Diffusion Unlearning

|                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                                                                                                                                    |                                                                                    |
| ----------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------- |
| Paper Name                                                                                            | Methodology                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | Effectiveness                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Utility                                                                                                                                                                                                                                                                                                                                              | Robustness                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Multiple Concept                                                                                                                                                                                                                                     | Future work                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Note                                                                                                                                                                                                               | Code Link and relate material                                                      |
| Reliable and Efficient Concept Erasure of  <br>Text-to-Image Diffusion Models                         | Close form edit after generating embedding that returns the originial output after close form edit as defined in UCE. For regularizing requires an concept P to preserve. Iterative process to make UCE more robust since closed form edit is dependent on c that generated it. Needs regularization                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | A higher LPIPSe value suggests a more effective style removal, and both ESD and our method demonstrate successful erasure of the  <br>target style. LPIPSu is calculated on unerased artists. A lower LPIPSu indicates a lesser impact on unrelated artists, where our method and UCE effectively maintains unrelated concepts. We also calculate the overall effectiveness  <br>by LPIPSd = LPIPSe ‚àí LPIPSu, which is the difference between erased and  <br>unerased artists. Our method performs best in this regard - artistic | FID score closely comparable to the topperforming UCE and the second-best SLD, both of which generates a considerably higher number of nude body parts. This suggests that our method minimally  <br>impacts the generation of normal content while striving for better removal effectiveness.                                                       | More robust against attack than UCE.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Not mentioned in paper. Code seems to suggest multiple concept as defined in UCE.                                                                                                                                                                    | Nudity Bias While our RECE demonstrates remarkable effectiveness in minimizing the generation of nude content, it exhibits limitations in erasing male  <br>nudity and similar limitations are also observed in other methods. We count  <br>the number of female and male nude body parts in the 4703 I2P images. As  <br>illustrated in Tab. 2, the nudity ratios between women and men almost decrease  <br>in every method, indicating an erasure bias on female information (excluding  <br>SA, which erases more sex-related concepts besides nudity [8]). We attribute  <br>this limitation to the inherent bias in the target concept "nudity" within SD,  <br>which tends to generate more female-oriented content. To investigate this bias,  <br>we randomly selected 20 seeds and employed SD V1.4 to generate 3 images per  <br>seed with the prompt "nudity", resulting in a total of 60 images. Surprisingly,  <br>almost all of these generated images depict female body part as presented in  <br>the last column of Tab. 2. Thus our derived embedding is also biased. Further  <br>improvements require an awareness of the biases inherent in the model while  <br>performing erasure. |                                                                                                                                                                                                                    |                                                                                    |
| UCE                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                      | Recall that UCE is the second-best  <br>artistic style removal method as shown in Tab. 3 but it falls short in robustness  <br>against red-teaming tools.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |                                                                                                                                                                                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                                                                                                                                    |                                                                                    |
| R.A.C.E. : Robust Adversarial Concept Erasure  <br>for Secure Text-to-Image Diffusion Model           | This method is deliberate, substituting the concept embedding c with c + Œ¥  <br>within the trainable parameters of Œ¶Œ∏. This precise adjustment ensures enhanced  <br>fidelity of the generated images by mapping the œµ-neighborhood of the concept  <br>embedding to its null representation . Uses ESD as base eraser  <br>  <br>In pursuit of further reducing the ASR, we  <br>explore strategies for more comprehensive concept erasure. Recognizing that a  <br>target concept may manifest in various synonymous forms, we extend RACE‚Äôs  <br>erasure scope to include semantically related concepts. Leveraging the CLIP text  <br>encoder embedded within Stable Diffusion, we identify and subsequently erase  <br>concepts closely related to the target, based on their proximity in the CLIP embedding space. For instance, alongside ‚Äúnudity‚Äù, we also target synonymous concepts like ‚Äúnude‚Äù, ‚Äúnsfw‚Äù, and ‚Äúbare‚Äù, identified as the top-3 semantically similar  <br>terms.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | RACE distinguishes itself from existing approaches [10,27] by aiming to eliminate not only the targeted concept‚Äôs embedding but also its adjacent embedding  <br>within the model‚Äôs latent space, which could otherwise lead to the inadvertent  <br>generation of the erased concept by Œ¶Œ∏.                                                                                                                                                                                                                                       | there exists  <br>a slight decrement in classification accuracy for non-target classes. This effect  <br>likely stems from RACE‚Äôs method of targeting the œµ-neighborhood surrounding  <br>the intended concept, potentially influencing proximate concepts.  <br>  <br>erasures of other concepts (non artistic) inadvertently degrade image quality | Increasing the robustness decreases image quality, But is by keeping originial parameters as regularizer. It is miniminzed                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | erasing artistic styles predominantly involves fine-tuning the cross-attention layers of SD as  <br>per ESD guidelines, whereas erasing other concepts necessitates adjustments in  <br>non-cross-attention layers | [https://github.com/chkimmmmm/R.A.C.E.](https://github.com/chkimmmmm/R.A.C.E..git) |
| ESD                                                                                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                                                                                                                                    |                                                                                    |
| Receler: Reliable Concept Erasing of  <br>Text-to-Image Diffusion Models via  <br>Lightweight Erasers |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                                                                                                                                    |                                                                                    |
| Ablating Concepts in Text-to-Image Diffusion Models                                                   | Minimize KL divergence between substituted pair. Model base: freeze model and make image output same. Noise based: Same as classifier free guidance but use the substrute as anchor                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Very Simple. But can also substitute concepts.<br><br>> The role of anchor category. In all the above experiments, we assume an anchor category c‚àó is given to overwrite the target concept. Here, we investigate the role of choosing dif- ferent anchor categories for ablating Grumpy Cat and show results with the anchor concept as British Shorthair Cat and Felidae in Figure 11. Both anchor concepts work wel<br><br>[[Ablating Concepts.pdf#page=8&selection=194,0,217,43\|Ablating Concepts, page 8]]                   | Can remove for target prompt or image<br><br>                                                                                                                                                                                                                                                                                                        | they generate prompt using chatGPT. so its not really robust agaisnt prompt attack.<br><br>> Although we can ablate concepts efficiently for a wide range of object instances, styles, and memorized images, our method is still limited in several ways. First, while our method overwrites a target concept, this does not guarantee that the target concept cannot be generated through a differ- ent, distant text prompt. We show an example in Figure 14 (a), where after ablating Van Gogh, the model can still gener- ate starry night painting. However, upon discovery, one can resolve this by explicitly ablating the target concept starry night painting. Secondly, when ablating a target concept, we still sometimes observe slight degradation in its surrounding concepts, as shown in Figure<br><br>[[Ablating Concepts.pdf#page=9&selection=76,0,95,40\|Ablating Concepts, page 9]] | > Single model with multiple concepts ablated. Our method can also remove multiple concepts by training on the union of datasets for longer training steps<br><br>[[Ablating Concepts.pdf#page=8&selection=182,0,186,37\|Ablating Concepts, page 8]] | > Reverse KL divergence. In our model-based concept ab- lation, we optimize the KL divergence between the anchor concept and target concept distribution. Here, we compare it with optimizing the approximation to reverse KL diver- gence, i.e., Eœµ,x‚àó,c‚àó,c,t[wt\|\| ÀÜŒ¶(x‚àó t , c, t).sg() ‚àí ÀÜŒ¶(x‚àó t , c‚àó, t)\|\|]. Thus the expectation of loss is over target concept images. Figure 12 shows the quantitative comparison on ablating instances and style concepts<br><br>[[Ablating Concepts.pdf#page=8&selection=267,0,329,28\|Ablating Concepts, page 8]]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                    |                                                                                    |
| Unlearning Concepts in Diffusion Model via Concept Domain Correction and Concept Preserving Gradient  | > The denoising network, represented as ùúñùúÉ , is tasked with estimate the noise at a specific timestep ùë°, conditioned on two distinct concep- tual concept conditions, ùëê‚àó and ùëê. We then construct a discriminator, denoted as ùê∑, to simulate a membership inference attack (MIA) [25 ], with the goal of distinguishing between the noise distributions as- sociated with these two types of concepts. The parameters of the denoising network are fine-tuned to ensure that the discriminator cannot discern which concept the noise is conditioned on at any<br><br>[[Concept Preserving Grad.pdf#page=5&selection=204,0,233,63\|Concept Preserving Grad, page 5]]<br><br>> In our method, we adopt an effective and efficient gradient surgery paradigm [27, 29] to directly mitigate the gradient con- flicts between the unlearning objective and the retaining objective. As illustrated in Figure 3 (b), we formally define the gradients of the unlearning and retaining objectives as Gùë¢ and Gùëü , respectively. The training process presents two distinct cases: (1) If the angle between Gùë¢ and Gùëü is less than 90‚ó¶, this signifies that the direction of optimization for the unlearning loss aligns with that of the retain- ing objective. In this case, we adjust the updated gradient direction G to align with Gùë¢ . (2) On the other hand, if the angle surpasses 90‚ó¶, this signifies a conflict between the unlearning loss and the objective of retaining. In such cases, optimizing in the direction of Gùë¢ would interfere the original utility of non-target concepts. To address this, we project Gùë¢ onto the orthogonal direction of Gùëü for optimization, effectively resolving the gradient conflict and preventing interference with the retaining goal. <br><br>[[Concept Preserving Grad.pdf#page=6&selection=151,0,220,49\|Concept Preserving Grad, page 6]] |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                                                                                                                                    |                                                                                    |
| One-dimensional Adapter to Rule Them All: Concepts, Diffusion Models and Erasing Applications         | LoRa adapter.<br><br>normal classifier guidance to train but the lora addition scale is determined by Cosine Similarity to unlearning concept and inference prompt.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                                                                                                                                    |                                                                                    |
|                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                                                                                                                                    |                                                                                    |

Unlearning

|   |   |   |   |   |   |   |
|---|---|---|---|---|---|---|
|Paper Name|Methodology|Effectiveness|Utility|Robustness|Multiple Concept|Note|
||||||||
||||||||

Other papers

|   |   |   |   |   |
|---|---|---|---|---|
|Paper Name|Methodology|Relevance|Disadvantage|Notes|
|Your diffusion model  <br>is secretly a zero-shot classifier.|||||
|repo for adv attack||||[https://adversarial-attacks-pytorch.readthedocs.io/en/latest/index.html#](https://adversarial-attacks-pytorch.readthedocs.io/en/latest/index.html#)|


  



